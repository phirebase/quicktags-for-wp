{
    "landingPage": "/wp-admin/post-new.php",
    "features": {
        "networking": true
    },
    "steps": [
        {
            "step": "login",
            "username": "admin",
            "password": "password"
        },
        {
            "step": "installPlugin",
            "pluginData": {
                "resource": "wordpress.org/plugins",
                "slug": "classic-editor"
            },
            "options": {
                "activate": true
            }
        },
        {
            "step": "installPlugin",
            "pluginData": {
                "resource": "wordpress.org/plugins",
                "slug": "wp-quicktags"
            },
            "options": {
                "activate": true
            }
        },
        {
            "step": "writeFile",
            "path": "/wordpress/wp-content/mu-plugins/playground-notice.php",
            "data": "<?php add_action( 'admin_notices', function() { echo '<div class=\"notice notice-info is-dismissible\"><p>This is a live preview of <strong>Classic Editor</strong> and <strong>Quicktags for WP</strong>, powered by <a href=\"https://wordpress.org/playground/\" target=\"_blank\">WordPress Playground</a>.</p></div>'; } );"
        },
        {
            "step": "wp-cli",
            "command": ["wp", "user", "meta", "update", "1", "rich_editing", "false"]
        },
        {
            "step": "executeJavaScript",
            "code": "setTimeout(() => { let htmlTab = document.querySelector('#content-html'); if (htmlTab) { htmlTab.click(); } }, 3000);"
        }
    ]
}
